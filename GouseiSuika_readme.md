# スイカ🍉ジェネレーター Gousei Suika Generator for わんコメ v0.2

最終更新日：2024/06/10

配信者のためのコメントアプリ「わんコメ」で使用できる、テンプレート＋WordPartyです。

## このコードを利用するときは

- わんコメ(https://onecomme.com/) の利用規約に基づきます。
- わんコメの利用規約に基づき、コードに限っては商業利用も含め自由に利用することができます。
  - おみくじの一部のサンプル内容については、大変刺激の強い表現があります。
- このコードの使用に関連して生じた損害について一切の責任を負いません。このコードの使用は自己責任で行ってください。
- ベータ版のため、コードの動作は保証しません。コードや仕様は予告なく変更される可能性があります。

## このテンプレートは何？

### スイカゲーム風のおみくじを楽しめる!

- 「スイカ」「スイカゲーム」「🍉」等とコメントをすると、大量のフルーツ達が配信画面に登場(くっついてもシンカはしません)、ランダムに得点を表示します。

### ランキング機能も搭載! ハイスコアは誰の手に?

- ハイスコアが出ると、盛大な歓声とともにNewRecordと出ます。
- 何回でも挑戦できるので、視聴者からたくさんのコメントが貰えるかも。（多すぎて困るかもしれませんが…！）
- script.jsをテキストエディタで編集することで、最大回数を指定することもできます。1回限定で運試ししてもらうのもいいでしょう。

## 導入方法

### テンプレートをOBSに追加する

- わんコメの右上にある【…】(三点リーダー) ＞ フォルダを開く ＞ テンプレートフォルダ を選択
- customフォルダに、解答したフォルダ「gousei_suika」と「word-party_gousei_suika」を入れる
- 「gousei_suika」「word-party_gousei_suika」の両方のテンプレートをOBSに追加
- プロパティから、幅・高さを編集します。目安としては、幅600、高さ910です(画面が1920x1080の場合)

### 【重要】OBSの設定・プロパティを変更する

- 追加したテンプレート「index.html」という名称から、わかりやすい名前に変更する(SuicaGame、SuicaWordParty等)
- プロパティから**「OBSで音声を制御する」と、「表示されていないときにソースをシャットダウンする」にチェック☑**を入れる
- OBSの音声ミキサーの【︙】(三点リーダー)＞「オーディオの詳細プロパティ」から、↑で変更したWordPartyの名称を探し、「音声モニタリング」の設定を「モニターと出力」に変更する
  - この設定をしていないと、**「配信者は聞こえるのに配信動画では音声が乗っていない」「タイマーやおみくじが二重三重に出てくる」「非表示にしてるのに勝手に音声が鳴る」といった不具合**が出ます。

## 使い方・カスタマイズ

### script.jsをテキストエディタで編集する

- script.jsというファイルを編集することで、「ランキングで何位まで表示させるか」等の編集ができます。
- 「FirstCounter」フォルダに入っている、「script.js」というファイルを、テキストエディターで開きます。

### カスタマイズ

- ランキング:下位何位まで表示させるか
  - 3～10、多くても20くらいで設定して下さい。
- 「スイカ」のおみくじができる最大回数(0でOFF)
  - 視聴者が多い場合、コメント抑制のために最大回数を設けられます。**最大回数を超えた場合、リセットされるまでスイカゲーム等のおみくじができなくなります(最大回数超えた等のアナウンスもありません)**
- 候補となる名前の配列
  - 起動時、配列の名前を使ってランキングを生成します。必要があれば、有名プレイヤー等の名前を追加したりして下さい。

### 秘密のカスタマイズ(分かる人だけ設定して下さい)

- イカゲームのスイッチ(0:OFF 1:Death機能ありON 2:Death機能なしON)
  - 隠し機能として「イカゲーム」があります。初期設定はOFFです。
  - ONにすると、イカゲームにちなんだおみくじで遊べます。1/456で大量の得点が入りますが、それ以外は0点です。
  - 「イカゲーム」とコメントすると発動します。
  - 「Death機能ありON」にすると、**0点を取得した場合、リセットされるまでスイカゲーム等のおみくじができなくなります。**
- コメントしてからBotが反応するまでの遅延(秒)
  - 初期設定は1秒です。演出が長いと感じたら、0.5秒くらいにすると、わずかに早くコメントを処理できます。
- わんコメのどのID枠に投稿するか
  - わんコメで複数の枠を設定している場合、IDを入れることで任意の枠に投稿が可能です。
  - この機能を使うことで、BOTの声を変更することが可能になるようです。

## おみくじの結果・アナウンスについて

- Q.コメントが読み上げられてるようだけど、コメントが見えません
  - 他のわんコメジェネレーターを使うことで、配信上でも見えるようになります。

## 備考：コードの改変について

- このコードは、わんコメのテンプレートをベースに改変をしていますが、更なる改変はもちろん歓迎しています。必要なカスタマイズを施して下さい。
  - WordPartyも同様に、改変自由です。画像等を差し替えれば、オリジナルのスイカゲームになるかも(ただし、著作権には注意して下さい)
- また、わんコメの利用規約に基づき、コードに限っては商業利用も含め自由に利用することができます。
  - おみくじの一部のサンプル内容については元ネタがありますので、良識の範囲内でお使い下さい。
- コードがあまり綺麗でない点はご了承ください。

## クレジット：イラストと音源について

- ジェネレーターやWordParty、アイコンで使用しています。
- 「スイカジェネレーター」のフォント:ＫＦひま字ふで
  https://www.kfstudio.net/font/kfhimajifude/
- 飛び散る血の痕【フリー素材あそび】
  https://commons.nicovideo.jp/works/nc297798
- 各種効果音：効果音ラボ
  https://soundeffect-lab.info/
- 細かい部品のほとんど：ダーヤマ TOPECONHEROES
  https://twitter.com/topeconheroes
- イラスト素材・動画・音源の再配布は禁止されています。
- イラストや音源の利用については、各配布サイトの利用規約をご確認ください。

## バージョン情報

v0.2 : 24/06/10
- 演出の調整、アイコン等の編集を行いました(弾ける効果音など)
- 今回のスコア+ユーザー名を表示するようにしました
- 「スイカ」のおみくじができる最大回数を追加

v0.1 : 24/06/08 初版

------

せすじピンとしてます @pintocuru
https://twitter.com/pintocuru
https://www.youtube.com/@pintocuru
